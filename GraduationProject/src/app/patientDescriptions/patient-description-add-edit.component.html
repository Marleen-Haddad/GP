<h1 *ngIf="isAddMode">Add Patinet Description</h1>
<h1 *ngIf="!isAddMode">Edit Patinet Description</h1>
<form [formGroup]="form" (ngSubmit)="onSubmit(true)">
  <div class="form-row">
    <div class="form-group col">
      <label for="patientId">Patient Name</label>
      <select formControlName="patientId" class="form-control"
        [ngClass]="{ 'is-invalid': submitted && f.patientId.errors }">
        <option *ngFor="let user of users" [value]="user.id">{{user.firstName}} - {{user.lastName}}</option>
      </select>
      <div *ngIf="submitted && f.patientId.errors" class="invalid-feedback">
        <div *ngIf="f.patientId.errors.required">Patient is required</div>
      </div>
    </div>
  </div>
  <!---->
  <h1>Patient Medicines</h1>
  <!-- <button (click)="onSubmit(false)">Add Patient Medicine</button> -->
  <div class="form-row">
    <div class="form-group col">
      <label for="patientId">Medicine Name</label>
      <select  class="form-control"  (change)="Selected($event)">
        <option *ngFor="let pharmacyMedicine of pharmacyMedicines" [value]="pharmacyMedicine.id">{{GetMedicineName(pharmacyMedicine.medicineId)}}/{{GetPharmacyName(pharmacyMedicine.pharmacyBranchId)}}</option>
      </select>
    </div>
  </div>
<table class="table table-striped">
    <thead>
        <tr>
            <th style="width: 30%"> Medicine Name</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let patinetMedicine of patinetMedicines">
            <td>{{GetMedicineFullNameFromPharmacyMedicineId(patinetMedicine.pharmacyMedicinesId)}}</td>
            <!-- <td style="white-space: nowrap">
              <a routerLink="edit/{{patinetMedicine.id}}" class="btn btn-sm btn-primary mr-1">Edit</a>
                <button (click)="deletePatientMedicine(patinetMedicine.id)" class="btn btn-sm btn-danger btn-delete-user" [disabled]="patinetDescription.isDeleting">
                    <span *ngIf="patinetMedicine.isDeleting" class="spinner-border spinner-border-sm"></span>
                    <span *ngIf="!patinetMedicine.isDeleting">Delete</span>
                </button>
            </td> -->
        </tr>

    </tbody>
</table>
  <!---->
  <div class="form-group">
    <button type="submit" [disabled]="loading" class="btn btn-primary">
      <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
      Save
    </button>
    <a routerLink="/patientDescription" class="btn btn-link">Cancel</a>
  </div>
</form>
